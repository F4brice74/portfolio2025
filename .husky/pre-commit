#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# VÃ©rifications avant commit
echo "ğŸ” VÃ©rification du code avant commit..."

# VÃ©rification TypeScript
echo "ğŸ“ VÃ©rification TypeScript..."
pnpm run type-check
if [ $? -ne 0 ]; then
  echo "âŒ Erreurs TypeScript dÃ©tectÃ©es. Commit annulÃ©."
  exit 1
fi

# VÃ©rification ESLint
echo "ğŸ”§ VÃ©rification ESLint..."
pnpm run lint
if [ $? -ne 0 ]; then
  echo "âŒ Erreurs ESLint dÃ©tectÃ©es. Commit annulÃ©."
  exit 1
fi

# # Tests e2e (optionnel - peut Ãªtre commentÃ© si trop long)
# echo "ğŸ§ª ExÃ©cution des tests e2e..."
# pnpm run test:e2e
# if [ $? -ne 0 ]; then
#   echo "âŒ Tests e2e Ã©chouÃ©s. Commit annulÃ©."
#   exit 1
# fi

echo "âœ… Toutes les vÃ©rifications sont passÃ©es. Commit autorisÃ©."